<!DOCTYPE html>
<html lang="en">
<head>
  <!-- ===== META ===== -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WHISTLE — Expose Fraud. Anonymously. Verified.</title>
  <meta name="description" content="Whistle is a secure platform for anonymous fraud reporting. Evidence is encrypted, AI analyzes patterns, journalists verify, and the public investigates." />
  <meta name="theme-color" content="#E50914" />
  <meta property="og:title" content="WHISTLE — Expose Fraud. Anonymously. Verified.">
  <meta property="og:description" content="Anonymous submissions • AI analysis • Journalist verification • Public transparency.">
  <meta property="og:image" content="logo.jpeg">
  <meta name="twitter:card" content="summary_large_image">

  <!-- ===== FONT ===== -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;700&display=swap" rel="stylesheet" />

  <!-- ===== STYLE ===== -->
  <style>
    :root{
      --bg:#000011;
      --panel:#030314;
      --line:rgba(255,255,255,.06);
      --muted:rgba(255,255,255,.58);
      --soft:rgba(255,255,255,.12);
      --white:#fff;
      --accent:#E50914;
      --accent-2:#ff4b2b;
      --shadow:0 8px 30px rgba(229, 9, 20, .28);
      --radius:14px;
      --grid:radial-gradient(circle at 1px 1px, rgba(255,255,255,.08) 1px, transparent 0);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html{scroll-behavior:smooth}
    body{
      font-family:'Space Grotesk', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        radial-gradient(1200px 700px at 85% -10%, rgba(229,9,20,.10), transparent 60%),
        radial-gradient(900px 600px at -10% 120%, rgba(255,75,43,.10), transparent 60%),
        var(--bg);
      color:var(--white);
      line-height:1.5;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    a,button{cursor:crosshair}
    .container{max-width:1120px;margin:0 auto;padding:0 24px}
    .card{background:var(--panel); border:1px solid var(--line); border-radius:var(--radius)}
    .subtle{color:var(--muted)}
    .divider{border-top:1px solid var(--line)}
    .grid-bg{background-image:var(--grid); background-size:22px 22px}

    /* ===== NAV ===== */
    nav{position:fixed; inset:0 0 auto 0; height:64px; z-index:50; background:rgba(0,0,8,.72); backdrop-filter:blur(12px); border-bottom:1px solid var(--line)}
    nav .container{display:flex; align-items:center; justify-content:space-between; height:64px}
    .brand{display:flex; align-items:center; gap:10px; font-weight:700; letter-spacing:3px; font-size:14px}
    .brand img{width:28px;height:28px;border-radius:6px}
    .nav-links{display:flex; gap:28px}
    .nav-links a{font-size:13px; color:var(--muted); text-decoration:none}
    .nav-links a:hover{color:var(--white)}
    .nav-cta{padding:10px 16px; border-radius:12px; background:linear-gradient(90deg, var(--accent), var(--accent-2)); box-shadow:var(--shadow); color:#fff; font-weight:600; font-size:13px; text-decoration:none}

    /* ===== HERO ===== */
    header.hero{position:relative; min-height:100vh; display:grid; place-items:center; text-align:center; overflow:hidden; padding-top:80px}
    .hero-inner{position:relative; z-index:2; padding:14vh 0 8vh}
    .status{display:inline-flex; gap:8px; align-items:center; letter-spacing:2px; font-weight:700; font-size:10px; color:var(--muted); text-transform:uppercase; margin-bottom:28px}
    .dot{width:8px;height:8px;border-radius:50%; background:var(--accent); box-shadow:0 0 16px rgba(229,9,20,.8); animation:pulse 2s infinite}
    @keyframes pulse{0%,100%{opacity:1}50%{opacity:.35}}
    h1.hero-title{font-size:clamp(42px,7.8vw,86px); line-height:1.02; letter-spacing:-2px; font-weight:700}
    .accent{background:linear-gradient(90deg,var(--accent),var(--accent-2)); -webkit-background-clip:text; background-clip:text; color:transparent}
    .subtitle{max-width:720px;margin:18px auto 34px; color:var(--muted); font-size:18px}
    .cta-row{display:flex; gap:12px; justify-content:center; flex-wrap:wrap}
    .btn{padding:12px 22px; border-radius:12px; font-size:13px; font-weight:700; letter-spacing:.5px; border:1px solid transparent; text-decoration:none; display:inline-flex; align-items:center; gap:10px}
    .btn-primary{background:linear-gradient(90deg, var(--accent), var(--accent-2)); color:white; box-shadow:var(--shadow)}
    .btn-ghost{border-color:var(--soft); color:var(--white); background:rgba(255,255,255,.02)}
    .badges{display:flex; gap:18px; justify-content:center; color:var(--muted); font-size:12px; margin-top:18px}
    .badge{display:flex; align-items:center; gap:8px}
    .badge .b{color:var(--accent)}

    /* hero canvas */
    #hero-canvas{position:absolute; inset:0; width:100%; height:100%; z-index:1}
    .halo{position:absolute; inset:auto auto -20% -20%; width:44vw; height:44vw; border-radius:50%; filter:blur(80px); background:radial-gradient(closest-side, rgba(229,9,20,.18), transparent 70%)}
    .halo2{left:auto; right:-20%; bottom:-10%; background:radial-gradient(closest-side, rgba(255,75,43,.14), transparent 70%)}

    /* ===== SECTION BASE ===== */
    section{padding:90px 0}

    /* ===== STATS ===== */
    .stats{display:grid; grid-template-columns:repeat(3,1fr); gap:1px; background:var(--line); margin:36px 0 0}
    .stat{background:#020212; text-align:center; padding:34px 10px}
    .stat .num{font-size:48px; letter-spacing:-2px; font-weight:700}
    .stat .lbl{font-size:12px; letter-spacing:1px; color:var(--muted)}

    /* ===== GRID FEATURES ===== */
    .grid-3{display:grid; grid-template-columns:repeat(3,1fr); gap:1px; background:var(--line); margin-top:30px}
    .grid-item{background:#020212; padding:36px 28px; transition:transform .3s ease}
    .grid-item:hover{transform:translateY(-3px)}
    .grid-icon{opacity:.75; margin-bottom:14px}
    .grid-title{letter-spacing:.6px; font-size:14px; font-weight:700; margin-bottom:8px}
    .grid-text{font-size:14px; color:var(--muted)}

    /* ===== PROCESS ===== */
    .process{max-width:820px; margin:28px auto 0}
    .p-step{display:grid; grid-template-columns:62px 1fr; gap:24px; padding:26px 0; border-bottom:1px solid var(--line)}
    .p-step:last-child{border-bottom:none}
    .p-no{color:var(--muted); font-weight:700}
    .p-title{font-weight:700; letter-spacing:.6px; margin-bottom:6px}
    .p-text{color:var(--muted)}

    /* ===== FEATURE LISTS ===== */
    .feature-list{display:grid; grid-template-columns:repeat(2,1fr); gap:32px; margin-top:34px}
    .feature-item{display:flex; gap:16px}
    .feature-check{color:var(--accent); font-size:16px; flex-shrink:0}
    .feature-content h4{font-size:14px; font-weight:700; margin-bottom:6px; letter-spacing:.3px}
    .feature-content p{font-size:13px; color:var(--muted)}

    /* ===== CHIPS / CANARY ===== */
    .chips{display:flex; flex-wrap:wrap; gap:10px; margin-top:14px}
    .chip{border:1px solid var(--soft); padding:8px 12px; border-radius:999px; font-size:12px; color:var(--muted)}
    .canary{padding:24px; border-radius:var(--radius)}

    /* ===== CTA / FORM ===== */
    .cta{ text-align:center; background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.005)); border-top:1px solid var(--line); border-bottom:1px solid var(--line)}
    .email-form{display:flex; gap:10px; justify-content:center; max-width:720px; margin:20px auto 0; flex-wrap:wrap}
    .email-input{flex:1; min-width:220px; padding:12px 14px; background:rgba(255,255,255,.04); border:1px solid var(--soft); border-radius:10px; color:#fff; font:inherit}
    .email-input:focus{outline:none; border-color:rgba(255,255,255,.25); background:rgba(255,255,255,.06)}
    .privacy{font-size:11px; color:var(--muted); margin-top:10px; letter-spacing:.5px}

    /* ===== FOOTER ===== */
    footer{border-top:1px solid var(--line); padding:34px 0}
    .footer-wrap{display:flex; align-items:center; justify-content:space-between; gap:20px}
    .f-links{display:flex; gap:22px}
    .f-links a{color:var(--muted); text-decoration:none; font-size:12px}
    .f-links a:hover{color:#fff}
    .copy{color:var(--muted); font-size:12px}

    /* ===== REVEALS ===== */
    [data-reveal]{opacity:0; transform:translateY(16px); transition:opacity .6s ease, transform .6s ease}
    [data-reveal].show{opacity:1; transform:translateY(0)}

    /* ===== SOUND TOGGLE ===== */
    #soundToggle{
      position:fixed; right:22px; bottom:24px; width:46px; height:46px; border-radius:50%;
      border:1px solid var(--soft); background:rgba(255,255,255,.03); color:#fff; z-index:40;
    }
    #soundToggle.active{border-color:rgba(229,9,20,.5)}

    /* ===== RESPONSIVE ===== */
    @media (max-width: 900px){
      .stats{grid-template-columns:1fr}
      .grid-3{grid-template-columns:1fr}
      .footer-wrap{flex-direction:column; text-align:center}
      .nav-links{display:none}
      .feature-list{grid-template-columns:1fr}
    }
    @media (prefers-reduced-motion:reduce){
      *{animation:none!important; transition:none!important}
    }
  </style>
</head>
<body>
  <!-- ===== NAV ===== -->
  <nav role="navigation" aria-label="Primary">
    <div class="container">
      <a class="brand" href="#" aria-label="Whistle home">
        <img src="logo.jpeg" alt="Whistle logo" />
        WHISTLE
      </a>
      <div class="nav-links" role="menubar">
        <a role="menuitem" href="#protocol">Protocol</a>
        <a role="menuitem" href="#network">Network</a>
        <a role="menuitem" href="#protection">Protection</a>
        <a role="menuitem" href="#access">Access</a>
      </div>
      <a class="nav-cta" href="#access">Join Waitlist</a>
    </div>
  </nav>

  <!-- ===== HERO ===== -->
  <header class="hero" id="top" aria-labelledby="hero-title">
    <canvas id="hero-canvas" aria-hidden="true"></canvas>
    <div class="halo"></div><div class="halo halo2"></div>

    <div class="hero-inner container">
      <div class="status" aria-live="polite"><span class="dot"></span> OPERATIONAL</div>
      <h1 id="hero-title" class="hero-title" data-reveal>
        THEY LIE. <span class="accent">WE EXPOSE.</span> THEY FALL.
      </h1>
      <p class="subtitle" data-reveal>
        The powerful hide behind lawyers and PR. You have the evidence.
        Submit it encrypted. <strong>AI analyzes.</strong> <strong>Journalists verify.</strong> The world investigates.
      </p>
      <div class="cta-row" data-reveal>
        <a class="btn btn-primary" href="#access">Request Access</a>
        <a class="btn btn-ghost" href="#protocol">How it Works</a>
      </div>
      <div class="badges" aria-label="Capabilities" data-reveal>
        <span class="badge"><span class="b">●</span> Zero logs</span>
        <span class="badge"><span class="b">●</span> E2E envelopes</span>
        <span class="badge"><span class="b">●</span> Tor compatible</span>
      </div>
    </div>
  </header>

  <!-- ===== STATS ===== -->
  <section aria-labelledby="stats-title">
    <div class="container">
      <h2 id="stats-title" class="p-title" style="font-size:14px; letter-spacing:2px; text-transform:uppercase; color:var(--muted)">Signal vs Noise</h2>
      <div class="stats card" data-reveal>
        <div class="stat">
          <div class="num" data-count-to="68" data-suffix="%">0%</div>
          <div class="lbl">DISTRUST INSTITUTIONS</div>
        </div>
        <div class="stat">
          <div class="num" data-count-to="78" data-prefix="$" data-suffix="B">0</div>
          <div class="lbl">FRAUD ANNUALLY</div>
        </div>
        <div class="stat">
          <!-- FIXED to 0 permanently -->
          <div class="num">0</div>
          <div class="lbl">ALTERNATIVES EXIST</div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== OPERATIONAL PROTOCOL ===== -->
  <section id="protocol" aria-labelledby="protocol-title" class="divider">
    <div class="container">
      <div class="section-tag" style="color:var(--accent); letter-spacing:2px; font-weight:700; font-size:10px; text-transform:uppercase; margin-bottom:10px;">Operational Protocol</div>
      <h2 id="protocol-title" style="font-size:clamp(34px,5vw,56px); letter-spacing:-1.6px; line-height:1.05;" data-reveal>Power to the people</h2>
      <p class="subtle" style="max-width:680px" data-reveal>
        Silence protects corruption. <strong>Encryption protects you.</strong> AI finds the patterns they bury.
        Journalists verify the truth. Then the public investigates.
      </p>

      <div class="grid-3 card" data-reveal>
        <div class="grid-item">
          <div class="grid-icon">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" aria-hidden="true">
              <rect x="5" y="11" width="14" height="10" rx="2"/><path d="M12 17v-2"/><circle cx="12" cy="8" r="3"/>
            </svg>
          </div>
          <div class="grid-title">ENCRYPTED SUBMISSION</div>
          <div class="grid-text">Client-side envelopes. Zero logs. Tor ingress. You’re invisible by design.</div>
        </div>
        <div class="grid-item">
          <div class="grid-icon">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" aria-hidden="true">
              <path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/>
            </svg>
          </div>
          <div class="grid-title">AI PATTERN ANALYSIS</div>
          <div class="grid-text">OCR + anomaly detection spots conflicts, timelines, and chains across files.</div>
        </div>
        <div class="grid-item">
          <div class="grid-icon">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" aria-hidden="true">
              <circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/>
            </svg>
          </div>
          <div class="grid-title">GLOBAL ACCOUNTABILITY</div>
          <div class="grid-text">Verified reports go public with sources and searchable context.</div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== HOW IT WORKS (PROCESS) ===== -->
  <section aria-labelledby="how-title" class="divider">
    <div class="container">
      <div class="section-tag" style="color:var(--accent); letter-spacing:2px; font-weight:700; font-size:10px; text-transform:uppercase; margin-bottom:10px;">How it works</div>
      <h2 id="how-title" style="font-size:clamp(34px,5vw,56px); letter-spacing:-1.6px; line-height:1.05;" data-reveal>From evidence to exposure</h2>
      <div class="process">
        <div class="p-step" data-reveal>
          <div class="p-no">01</div>
          <div>
            <div class="p-title">You submit. Anonymously.</div>
            <div class="p-text">Upload from anywhere. Tor-compatible. Metadata scrubbed before storage. Not even we can identify you.</div>
          </div>
        </div>
        <div class="p-step" data-reveal>
          <div class="p-no">02</div>
          <div>
            <div class="p-title">AI finds the patterns</div>
            <div class="p-text">Fraud leaves fingerprints—contradictions, anomalies, links. We surface them, fast.</div>
          </div>
        </div>
        <div class="p-step" data-reveal>
          <div class="p-no">03</div>
          <div>
            <div class="p-title">Experts verify</div>
            <div class="p-text">Investigative journalists corroborate. Legal review. We publish proof—not rumors.</div>
          </div>
        </div>
        <div class="p-step" data-reveal>
          <div class="p-no">04</div>
          <div>
            <div class="p-title">We build the case</div>
            <div class="p-text">Timeline. Evidence. Sources. Everything documented with citations.</div>
          </div>
        </div>
        <div class="p-step" data-reveal>
          <div class="p-no">05</div>
          <div>
            <div class="p-title">The world sees it</div>
            <div class="p-text">Published widely. Archived. Searchable. Censorship-resistant mirrors available.</div>
          </div>
        </div>
        <div class="p-step" data-reveal>
          <div class="p-no">06</div>
          <div>
            <div class="p-title">Truth compounds</div>
            <div class="p-text">More whistleblowers come forward. Patterns emerge. Accountability follows.</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== THE NETWORK ===== -->
  <section id="network" aria-labelledby="network-title" class="divider">
    <div class="container">
      <div class="section-tag" style="color:var(--accent); letter-spacing:2px; font-weight:700; font-size:10px; text-transform:uppercase; margin-bottom:10px;">The Network</div>
      <h2 id="network-title" style="font-size:clamp(34px,5vw,56px); letter-spacing:-1.6px; line-height:1.05;" data-reveal>We are everywhere</h2>
      <p class="subtle" style="max-width:720px" data-reveal>
        Institutions have money and PR. We have millions of people who are done being lied to.
        Every investigation strengthens the network.
      </p>

      <div class="feature-list" data-reveal>
        <div class="feature-item">
          <div class="feature-check">✓</div>
          <div class="feature-content">
            <h4>Anyone can investigate</h4>
            <p>Access evidence, verify claims, contribute findings. Truth isn’t gatekept.</p>
          </div>
        </div>
        <div class="feature-item">
          <div class="feature-check">✓</div>
          <div class="feature-content">
            <h4>No single point of failure</h4>
            <p>Compartmentalized systems and mirrors reduce takedown risk.</p>
          </div>
        </div>
        <div class="feature-item">
          <div class="feature-check">✓</div>
          <div class="feature-content">
            <h4>Viral by design</h4>
            <p>Shareable cases with citations and archives accelerate reach.</p>
          </div>
        </div>
        <div class="feature-item">
          <div class="feature-check">✓</div>
          <div class="feature-content">
            <h4>Evidence stays public</h4>
            <p>Long-term archives and hashes (opt-in) preserve integrity.</p>
          </div>
        </div>
        <div class="feature-item">
          <div class="feature-check">✓</div>
          <div class="feature-content">
            <h4>Network effects</h4>
            <p>Each leak emboldens more sources, revealing larger patterns.</p>
          </div>
        </div>
        <div class="feature-item">
          <div class="feature-check">✓</div>
          <div class="feature-content">
            <h4>Outcomes</h4>
            <p>Investigations lead to policy shifts, restitution, and real accountability.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== PROTECTION ===== -->
  <section id="protection" aria-labelledby="trust-title" class="divider">
    <div class="container">
      <div class="section-tag" style="color:var(--accent); letter-spacing:2px; font-weight:700; font-size:10px; text-transform:uppercase; margin-bottom:10px;">Protection</div>
      <h2 id="trust-title" style="font-size:clamp(34px,5vw,56px); letter-spacing:-1.6px; line-height:1.05;" data-reveal>You’re untraceable</h2>

      <div class="chips" data-reveal>
        <span class="chip">Signal-style envelopes</span>
        <span class="chip">Zero logs</span>
        <span class="chip">Client-side scrub</span>
        <span class="chip">Tor ingress</span>
      </div>

      <div class="card canary" style="margin-top:18px" data-reveal>
        <strong>Warrant Canary</strong>
        <p class="subtle">As of <span id="canary-date"></span>: 0 national security letters; 0 gag orders; 0 data handover requests.</p>
      </div>
    </div>
  </section>

  <!-- ===== CTA / FORM SUBMIT ===== -->
  <section id="access" class="cta" aria-labelledby="cta-title">
    <div class="container">
      <div class="section-tag" style="color:var(--accent); letter-spacing:2px; font-weight:700; font-size:10px; text-transform:uppercase; margin-bottom:10px;">Join the fight</div>
      <h2 id="cta-title" style="font-size:clamp(34px,5vw,56px); letter-spacing:-1.6px; line-height:1.05;" data-reveal>They hide. We expose.</h2>
      <p class="subtle" style="max-width:680px; margin:10px auto 0" data-reveal>
        Request early access. We’ll notify you with encrypted updates about launch.
      </p>

      <!-- FormSubmit wired to er.hritik.24@gmail.com -->
      <form class="email-form" action="https://formsubmit.co/er.hritik.24@gmail.com" method="POST" data-reveal>
        <input type="hidden" name="_subject" value="New Whistle Waitlist Signup!" />
        <input type="hidden" name="_captcha" value="false" />
        <input type="hidden" name="_template" value="table" />
        <input class="email-input" type="text" name="name" placeholder="Your Name" required />
        <input class="email-input" type="email" name="email" placeholder="you@proton.me" required />
        <button class="btn btn-primary" type="submit">Join Waitlist</button>
      </form>
      <div class="privacy">Encrypted • Never shared • Unsubscribe anytime</div>
    </div>
  </section>

  <!-- ===== FOOTER ===== -->
  <footer role="contentinfo">
    <div class="container footer-wrap">
      <div class="brand" style="letter-spacing:2px">
        <img src="logo.jpeg" alt="Whistle logo small" /> WHISTLE
      </div>
      <div class="f-links">
        <a href="#protocol">Protocol</a>
        <a href="#protection">Security</a>
        <a href="#network">Network</a>
        <a href="#access">Access</a>
      </div>
      <div class="copy">© <span id="year"></span> WHISTLE — Truth, Verified.</div>
    </div>
  </footer>

  <!-- ===== SOUND TOGGLE (ambient, optional) ===== -->
  <button id="soundToggle" aria-label="Toggle ambient sound">♫</button>

  <!-- ===== SCRIPTS ===== -->
  <script>
    // ---- Dates ----
    document.getElementById('canary-date').textContent = new Date().toLocaleDateString();
    document.getElementById('year').textContent = new Date().getFullYear();

    // ---- Reveal on view ----
    const revealEls = document.querySelectorAll('[data-reveal]');
    const io = new IntersectionObserver((entries)=> {
      entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('show'); io.unobserve(e.target); }});
    }, {threshold:.18});
    revealEls.forEach(el => io.observe(el));

    // ---- Stat counters (except the fixed '0' alternative) ----
    document.querySelectorAll('.stat .num').forEach(el=>{
      const to = Number(el.dataset.countTo || 'NaN');
      if (Number.isNaN(to)) return; // skip the fixed "0"
      const prefix = el.dataset.prefix || '';
      const suffix = el.dataset.suffix || '';
      const dur = 1100;
      const start = performance.now();
      function tick(now){
        const p = Math.min(1, (now - start) / dur);
        const val = Math.floor(p * to);
        el.textContent = prefix + (suffix === 'B' ? val : val.toLocaleString()) + suffix;
        if(p < 1) requestAnimationFrame(tick);
      }
      requestAnimationFrame(tick);
    });

    // ---- Canvas particle network (hero) ----
    (function(){
      const c = document.getElementById('hero-canvas');
      const ctx = c.getContext('2d');
      let w, h, dpr;
      const nodes = [];
      const MAX = 90;
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      function resize(){
        dpr = Math.min(window.devicePixelRatio || 1, 2);
        w = c.clientWidth; h = c.clientHeight;
        c.width = w * dpr; c.height = h * dpr; ctx.setTransform(dpr,0,0,dpr,0,0);
        reset();
      }
      function rand(a,b){return a + Math.random()*(b-a)}
      function reset(){
        nodes.length = 0;
        const count = Math.floor((w*h)/20000);
        const N = Math.min(MAX, Math.max(40, count));
        for(let i=0;i<N;i++){
          nodes.push({
            x: rand(0,w), y: rand(0,h),
            vx: rand(-.25,.25), vy: rand(-.25,.25),
            r: rand(1.1,2.0), o: rand(.35,.9)
          });
        }
      }
      function step(){
        ctx.clearRect(0,0,w,h);
        // lines
        for(let i=0;i<nodes.length;i++){
          for(let j=i+1;j<nodes.length;j++){
            const a = nodes[i], b = nodes[j];
            const dx = a.x - b.x, dy = a.y - b.y;
            const dist = Math.hypot(dx,dy);
            if(dist < 120){
              const alpha = (1 - dist/120) * .8;
              const grad = ctx.createLinearGradient(a.x,a.y,b.x,b.y);
              grad.addColorStop(0, `rgba(229,9,20,${alpha*.45})`);
              grad.addColorStop(1, `rgba(255,75,43,${alpha*.45})`);
              ctx.strokeStyle = grad;
              ctx.lineWidth = 1;
              ctx.beginPath();
              ctx.moveTo(a.x, a.y);
              ctx.lineTo(b.x, b.y);
              ctx.stroke();
            }
          }
        }
        // dots
        nodes.forEach(n=>{
          n.x += n.vx; n.y += n.vy;
          if(n.x<0||n.x>w) n.vx*=-1;
          if(n.y<0||n.y>h) n.vy*=-1;
          ctx.beginPath();
          ctx.arc(n.x,n.y,n.r,0,Math.PI*2);
          ctx.fillStyle = `rgba(255,255,255,${n.o})`;
          ctx.fill();
          if(Math.random()<.004){
            ctx.beginPath();
            ctx.arc(n.x,n.y,n.r+10,0,Math.PI*2);
            ctx.strokeStyle = 'rgba(229,9,20,.16)';
            ctx.lineWidth = 1;
            ctx.stroke();
          }
        });
        if(!prefersReduced) requestAnimationFrame(step);
      }
      window.addEventListener('resize', ()=>{ resize(); });
      resize(); if(!prefersReduced) requestAnimationFrame(step);
    })();

    // ---- Ambient sound toggle (off by default) ----
    (function(){
      let ctx, osc, gain, playing=false;
      const btn = document.getElementById('soundToggle');
      btn.addEventListener('click', ()=>{
        if(!ctx){
          ctx = new (window.AudioContext||window.webkitAudioContext)();
          osc = ctx.createOscillator();
          gain = ctx.createGain();
          osc.type = 'sine';
          osc.frequency.value = 58; // low hum
          gain.gain.value = 0.0001;
          osc.connect(gain); gain.connect(ctx.destination);
          osc.start();
        }
        if(!playing){
          gain.gain.cancelScheduledValues(ctx.currentTime);
          gain.gain.exponentialRampToValueAtTime(0.03, ctx.currentTime + 0.4);
          playing = true; btn.classList.add('active');
        }else{
          gain.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + 0.4);
          playing = false; btn.classList.remove('active');
        }
      });
    })();

    // ---- Smooth anchor focus for a11y ----
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click', e=>{
        const id = a.getAttribute('href').slice(1);
        const target = document.getElementById(id);
        if(target){ target.setAttribute('tabindex','-1'); target.focus({preventScroll:true}); }
      })
    });
  </script>
</body>
</html>
